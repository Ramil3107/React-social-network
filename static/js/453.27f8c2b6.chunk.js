"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[453],{8453:function(e,n,s){s.r(n),s.d(n,{default:function(){return C}});var r=s(1413),o=s(5671),i=s(3144),t=s(9340),a=s(2882),l=s(8687),u=s(227),c=s(2791),d=s(4904),p=s(885),f={paginationWrapper:"FindUsers_paginationWrapper__B4PKh",pages:"FindUsers_pages__jlCyR",page:"FindUsers_page__cDVA7",findUser:"FindUsers_findUser__AVX1C",selectedPage:"FindUsers_selectedPage__hzYmw",item:"FindUsers_item__P2Aqi",userInfo:"FindUsers_userInfo__LHKge",avatar:"FindUsers_avatar__IaXKa"},h=s(184),g=function(e){var n=e.usersTotalCount,s=e.pageUsersLimit,r=e.onPageChanged,o=e.currentPage,i=e.portionSize,t=void 0===i?20:i,a=Math.ceil(n/s);console.log(a);for(var l=[],u=1;u<=a;u++)l.push(u);var d=Math.ceil(a/t),g=(0,c.useState)(1),U=(0,p.Z)(g,2),m=U[0],j=U[1],x=(m-1)*t+1,v=m*t;return(0,h.jsxs)("div",{className:f.paginationWrapper,children:[(0,h.jsx)("button",{disabled:m<=1,onClick:function(){return j(m-1)},children:"Prev"}),(0,h.jsx)("span",{className:f.pages,children:l.filter((function(e){return e>=x&&e<=v})).map((function(e){return(0,h.jsx)("span",{onClick:function(){return r(e)},className:o===e?f.selectedPage:f.page,children:e},e)}))}),(0,h.jsx)("button",{disabled:m>d,onClick:function(){return j(m+1)},children:"Next"})]})},U=s(3504),m=s(4661),j=function(e){var n=e.users,s=e.onFollow,r=e.onUnfollow,o=e.isFollowInProgress;return n.map((function(e){return(0,h.jsxs)("div",{className:f.item,children:[(0,h.jsxs)("span",{className:f.user,children:[(0,h.jsx)(U.OL,{to:"/profile/"+e.id,children:(0,h.jsx)("div",{children:(0,h.jsx)("img",{className:f.avatar,src:null===e.photos.small?m:e.photos.small})})}),(0,h.jsx)("div",{children:e.followed?(0,h.jsx)("button",{disabled:o.some((function(n){return n==e.id})),onClick:function(){return r(e.id)},children:"Unfollow"}):(0,h.jsx)("button",{disabled:o.some((function(n){return n==e.id})),onClick:function(){return s(e.id)},children:"Follow"})})]}),(0,h.jsxs)("span",{className:f.userInfo,children:[(0,h.jsxs)("p",{children:["user name: ",e.name]}),(0,h.jsx)("p",{children:null===e.status?"No status":e.status})]}),(0,h.jsxs)("span",{className:f.userAdress,children:[(0,h.jsx)("p",{children:"user.country"}),(0,h.jsx)("p",{children:"user.city"})]})]},e.id)}))},x=function(e){var n=e.setFindUserName,s=e.onSearchUser,r=e.findUserName;return(0,h.jsxs)("div",{className:f.findUser,children:[(0,h.jsx)("input",{placeholder:"find user...",value:r,onChange:function(e){return n(e.target.value)},type:"text"}),(0,h.jsx)("button",{onClick:s,children:"Find"})]})},v=function(e){var n=e.usersTotalCount,s=e.pageUsersLimit,r=e.onPageChanged,o=e.currentPage,i=e.setFindUserName,t=e.findUserName,a=e.onSearchUser,l=e.users,u=e.onFollow,c=e.onUnfollow,p=e.isFollowInProgress,f=e.isFetching;return(0,h.jsxs)("div",{children:[(0,h.jsx)(g,{usersTotalCount:n,pageUsersLimit:s,onPageChanged:r,currentPage:o}),(0,h.jsx)(x,{setFindUserName:i,onSearchUser:a,findUserName:t}),f?(0,h.jsx)(d.Z,{}):(0,h.jsx)(j,{users:l,onFollow:u,onUnfollow:c,isFollowInProgress:p})]})},F=s(7781),w=s(8277),_=function(e){(0,t.Z)(s,e);var n=(0,a.Z)(s);function s(){var e;(0,o.Z)(this,s);for(var r=arguments.length,i=new Array(r),t=0;t<r;t++)i[t]=arguments[t];return(e=n.call.apply(n,[this].concat(i))).onPageChanged=function(n){e.props.changePage(n,e.props.pageUsersLimit)},e.onSearchUser=function(){e.props.searchUser(e.props.findUserName)},e.onFollow=function(n){e.props.follow(n)},e.onUnfollow=function(n){e.props.unfollow(n)},e}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageUsersLimit)}},{key:"render",value:function(){return(0,h.jsx)(v,(0,r.Z)((0,r.Z)({},this.props),{},{onPageChanged:this.onPageChanged,onSearchUser:this.onSearchUser,onFollow:this.onFollow,onUnfollow:this.onUnfollow}))}}]),s}(c.Component),C=(0,F.qC)(w.D,(0,l.$j)((function(e){return{users:e.findUsers.users,usersTotalCount:e.findUsers.usersTotalCount,pageUsersLimit:e.findUsers.pageUsersLimit,currentPage:e.findUsers.currentPage,findUserName:e.findUsers.findUserName,isFetching:e.findUsers.isFetching,isFollowInProgress:e.findUsers.isFollowInProgress}}),{follow:u.ZN,unfollow:u.fv,searchUser:u.qz,getUsers:u.Rf,changePage:u.oO,setFindUserName:u.rK}))(_)},8277:function(e,n,s){s.d(n,{D:function(){return f}});var r=s(1413),o=s(5671),i=s(3144),t=s(9340),a=s(2882),l=s(8687),u=s(6871),c=s(2791),d=s(184),p=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var n=function(n){(0,t.Z)(l,n);var s=(0,a.Z)(l);function l(){return(0,o.Z)(this,l),s.apply(this,arguments)}return(0,i.Z)(l,[{key:"render",value:function(){return 0==this.props.isAuth?(0,d.jsx)(u.Fg,{to:"/login"}):(0,d.jsx)(e,(0,r.Z)({},this.props))}}]),l}(c.Component);return(0,l.$j)(p)(n)}},4661:function(e,n,s){e.exports=s.p+"static/media/defaultAvatar.e5117e8e0cea57c9a92f.jpeg"}}]);
//# sourceMappingURL=453.27f8c2b6.chunk.js.map