"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[682],{682:function(e,r,s){s.r(r),s.d(r,{default:function(){return E}});var o=s(1413),t=s(5671),n=s(3144),i=s(9340),a=s(2882),u=s(2791),l=s(8687),d=s(3969),c={},p=s(885),h={userInfo:"ProfileInfo_userInfo__AcMDd",coverImage:"ProfileInfo_coverImage__Y20fc",userAvatar:"ProfileInfo_userAvatar__+uFDb",status:"ProfileInfo_status__YrBI5",steer:"ProfileInfo_steer__ECpf7",changeAvatar:"ProfileInfo_changeAvatar__eWg6c",statusBar:"ProfileInfo_statusBar__pmZeI"},f=s(4661),x=s(4904),g=s(184),m=function(e){var r=e.userStatus,s=e.onUpdateUserStatus,o=(0,u.useState)(r),t=(0,p.Z)(o,2),n=t[0],i=t[1],a=(0,u.useState)(!1),l=(0,p.Z)(a,2),d=l[0],c=l[1];return(0,u.useEffect)((function(){i(r)}),[r]),(0,g.jsx)("div",{className:h.statusBar,children:d?(0,g.jsxs)("div",{children:[(0,g.jsx)("input",{autoFocus:!0,onBlur:function(){c(!1),s(n)},value:n,onChange:function(e){return i(e.target.value)}}),(0,g.jsx)("div",{className:h.steer,children:"click away to save"})]}):(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:h.status,onDoubleClick:function(){return c(!0)},children:r||"No Status"}),(0,g.jsx)("div",{className:h.steer,children:"double click to edit"})]})})},j=function(e){var r=e.uploadPhotoHandler,s=e.photoUploadError,o=e.photoLoading,t=(0,u.useState)(null),n=(0,p.Z)(t,2),i=n[0],a=n[1];return(0,g.jsx)("div",{style:{marginTop:"10px"},children:o?(0,g.jsx)(x.Z,{}):(0,g.jsxs)("div",{className:h.changeAvatar,children:[(0,g.jsx)("input",{onChange:function(e){return a(e.target.files[0])},type:"file"}),(0,g.jsx)("button",{disabled:!i,onClick:function(){return r(i)},children:"Upload"}),(0,g.jsx)("p",{children:s||null})]})})},v=function(e){var r=e.userProfile,s=e.setEditMode,o=e.isOwner;return(0,g.jsxs)("span",{className:h.info,children:[(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Nickname:"})," ",(0,g.jsx)("span",{style:{color:"blue",border:"1px green solid",borderRadius:"5px",padding:"3px"},children:null===r.fullName?"Anonim":r.fullName})]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Looking for a job:"})," ",(0,g.jsx)("span",{style:{color:r.lookingForAJob?"green":"red"},children:r.lookingForAJob?"Yes":"No"})]}),r.lookingForAJobDescription?(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Professional Skills:"})," ",r.lookingForAJobDescription]}):null,o?(0,g.jsx)("button",{onClick:function(){return s(!0)},children:"Edit"}):null]})},b=s(3896),I=function(e){var r,s,t=e.setEditMode,n=e.changeAboutMeInfo,i=e.aboutMeLoading,a=e.aboutMeError,u=(0,b.cI)({mode:"onBlur"}),l=u.register,d=u.handleSubmit,c=u.formState,p=c.errors,h=c.isValid;return(0,g.jsx)(g.Fragment,{children:i?(0,g.jsx)(x.Z,{}):(0,g.jsxs)("form",{onSubmit:d((function(e){return function(e){n(e,t)}(e)})),children:[(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Nickname:"})," ",(0,g.jsx)("input",(0,o.Z)((0,o.Z)({},l("fullName",{required:"Field is required!",minLength:{value:5,message:"Min length 5 symbols"},maxLength:{value:15,message:"Max length 15 symbols"}})),{},{type:"text"})),(0,g.jsx)("br",{}),(0,g.jsx)("strong",{style:{color:"red"},children:null!==p&&void 0!==p&&null!==(r=p.fullName)&&void 0!==r&&r.message?p.fullName.message:null})]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Looking for a job:"})," ",(0,g.jsx)("input",(0,o.Z)((0,o.Z)({},l("lookingForAJob")),{},{type:"checkbox"}))]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("b",{children:"Professional Skills:"})," ",(0,g.jsx)("input",(0,o.Z)((0,o.Z)({},l("lookingForAJobDescription",{required:"Field is required!",minLength:{value:5,message:"Min length 5 symbols"},maxLength:{value:50,message:"Max length 50 symbols"}})),{},{type:"text"})),(0,g.jsx)("br",{}),(0,g.jsx)("strong",{style:{color:"red"},children:null!==p&&void 0!==p&&null!==(s=p.lookingForAJobDescription)&&void 0!==s&&s.message?p.lookingForAJobDescription.message:null})]}),(0,g.jsx)("button",{onClick:function(){return t(!1)},children:"Close"}),(0,g.jsx)("input",{disabled:!h,type:"submit"}),a?(0,g.jsx)("p",{children:a}):null]})})},P=function(e){var r=e.currentUserId?e.currentUserId:e.myId,s=(0,u.useState)(!1),o=(0,p.Z)(s,2),t=o[0],n=o[1];return e.isFetching?(0,g.jsx)(x.Z,{}):(0,g.jsxs)("div",{className:h.profileInfo,children:[(0,g.jsx)("div",{className:h.coverImage,children:(0,g.jsx)("img",{src:"https://i.pinimg.com/736x/64/cc/fa/64ccfa4a392b9f3e1c6004fcedd3a18c.jpg"})}),(0,g.jsxs)("span",{className:h.userInfo,children:[(0,g.jsxs)("span",{className:h.userAvatar,children:[e.photoLoading?(0,g.jsx)(x.Z,{}):(0,g.jsx)("img",{style:{width:"300px",height:"300px"},src:null===e.userProfile.photos.large?f:e.userProfile.photos.large,alt:"avatar"}),e.isOwner?(0,g.jsx)(j,{uploadPhotoHandler:e.uploadPhotoHandler,photoUploadError:e.photoUploadError,photoLoading:e.photoLoading}):null,r!=e.myId?(0,g.jsx)("p",{children:e.userStatus?e.userStatus:"No Status"}):(0,g.jsx)(m,{userStatus:e.userStatus,onUpdateUserStatus:e.onUpdateUserStatus})]}),(0,g.jsx)("span",{children:t?(0,g.jsx)(I,{changeAboutMeInfo:e.changeAboutMeInfo,setEditMode:n,aboutMeLoading:e.aboutMeLoading,aboutMeError:e.aboutMeError}):(0,g.jsx)(v,{isOwner:e.isOwner,setEditMode:n,userProfile:e.userProfile})})]})]})},y={myPosts:"MyPosts_myPosts__IclvI",posts:"MyPosts_posts__GSiZ2"},k="Post_item__Yu4oG",M=function(e){var r=e.message,s=e.likecounter;return(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:k,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{src:"https://www.shareicon.net/data/512x512/2016/09/01/822711_user_512x512.png"}),r]}),(0,g.jsx)("div",{children:(0,g.jsxs)("span",{children:["Like ",s]})})]})})},S=function(e){var r=e.addPost,s=e.posts,t=(0,b.cI)(),n=t.register,i=t.handleSubmit,a=t.reset,u=s.map((function(e){return(0,g.jsx)(M,{message:e.message,likecounter:e.likecounter},e.id)}));return(0,g.jsxs)("div",{className:y.myPosts,children:[(0,g.jsx)("h3",{children:"My posts"}),(0,g.jsx)("div",{className:y.newPost,children:(0,g.jsxs)("form",{onSubmit:i((function(e){return s=e.post,r(s),void a();var s})),children:[(0,g.jsx)("div",{className:y.textArea,children:(0,g.jsx)("textarea",(0,o.Z)((0,o.Z)({},n("post")),{},{cols:"30",rows:"5"}))}),(0,g.jsx)("div",{className:y.button,children:(0,g.jsx)("button",{type:"submit",children:"Send"})})]})}),(0,g.jsx)("div",{className:y.posts,children:u})]})},U=(0,l.$j)((function(e){return{posts:e.profile.posts}}),(function(e){return{addPost:function(r){e((0,d.Wl)(r))}}}))(S),A=function(e){return(0,g.jsxs)("div",{className:c.content,children:[(0,g.jsx)(P,{aboutMeLoading:e.aboutMeLoading,aboutMeError:e.aboutMeError,changeAboutMeInfo:e.changeAboutMeInfo,isOwner:e.isOwner,photoLoading:e.photoLoading,photoUploadError:e.photoUploadError,uploadPhotoHandler:e.uploadPhotoHandler,currentUserId:e.router.params.userId,myId:e.myId,onUpdateUserStatus:e.onUpdateUserStatus,userProfile:e.userProfile,isFetching:e.isFetching,userStatus:e.userStatus}),(0,g.jsx)(U,{})]})},_=s(7781),Z=s(8277),N=s(6871),L=function(e){(0,i.Z)(s,e);var r=(0,a.Z)(s);function s(){var e;(0,t.Z)(this,s);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).changeAboutMeInfo=function(r,s){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.myId;e.props.saveAboutMeInfoThunk(r,s,o)},e.refreshProfile=function(){var r=e.props.router.params.userId?e.props.router.params.userId:e.props.myId;e.props.getUserProfile(r),e.props.getUserStatus(r)},e.uploadPhotoHandler=function(r){e.props.uploadPhotoThunk(r)},e.onUpdateUserStatus=function(r){e.props.updateUserStatus(r)},e}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,r,s){this.props.router.params.userId!=e.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var e=this.props.myId;return e?e?(0,g.jsx)(A,(0,o.Z)((0,o.Z)({},this.props),{},{changeAboutMeInfo:this.changeAboutMeInfo,isOwner:!this.props.router.params.userId||this.props.router.params.userId==this.props.myId,onUpdateUserStatus:this.onUpdateUserStatus,uploadPhotoHandler:this.uploadPhotoHandler})):void 0:(0,g.jsx)(x.Z,{})}}]),s}(u.Component),E=(0,_.qC)(Z.D,(function(e){return function(r){var s=(0,N.TH)(),t=(0,N.s0)(),n=(0,N.UO)();return(0,g.jsx)(e,(0,o.Z)((0,o.Z)({},r),{},{router:{location:s,navigate:t,params:n}}))}}),(0,l.$j)((function(e){return{userProfile:e.profile.userProfile,isFetching:e.profile.isFetching,userStatus:e.profile.userStatus,photoLoading:e.profile.photoLoading,photoUploadError:e.profile.photoUploadError,isAuth:e.auth.isAuth,myId:e.auth.id,aboutMeLoading:e.profile.aboutMeLoading,aboutMeError:e.profile.aboutMeError}}),{getUserProfile:d.et,getUserStatus:d.Tq,updateUserStatus:d.OL,uploadPhotoThunk:d.WV,saveAboutMeInfoThunk:d.LT}))(L)},8277:function(e,r,s){s.d(r,{D:function(){return h}});var o=s(1413),t=s(5671),n=s(3144),i=s(9340),a=s(2882),u=s(8687),l=s(6871),d=s(2791),c=s(184),p=function(e){return{isAuth:e.auth.isAuth}},h=function(e){var r=function(r){(0,i.Z)(u,r);var s=(0,a.Z)(u);function u(){return(0,t.Z)(this,u),s.apply(this,arguments)}return(0,n.Z)(u,[{key:"render",value:function(){return 0==this.props.isAuth?(0,c.jsx)(l.Fg,{to:"/login"}):(0,c.jsx)(e,(0,o.Z)({},this.props))}}]),u}(d.Component);return(0,u.$j)(p)(r)}},4661:function(e,r,s){e.exports=s.p+"static/media/defaultAvatar.e5117e8e0cea57c9a92f.jpeg"}}]);
//# sourceMappingURL=682.729f6ef2.chunk.js.map